profiles:
  development:
    data:
      host: http://localhost:8080
      odata_host: http://localhost:8080/odata

requests:
  rest: !folder
    name: REST
    requests:
      get-todo: !request
        method: GET
        url: "{{host}}/todo"

      post-todo: !request
        method: POST
        url: "{{host}}/todo"
        headers:
          accept: application/json
        body: !json { "Description": "Todo string", "Title": "Todo string" }

      post-task: !request
        method: POST
        url: "{{host}}/task"
        headers:
          accept: application/json
        body: !json { "TodoId": 1, "Description": "Task string", "Title": "Task string" }

  odata: !folder
    name: OData
    requests:
      service-doc: !request
        method: GET
        url: "{{odata_host}}/"
        headers:
          accept: application/json

      metadata: !request
        method: GET
        url: "{{odata_host}}/$metadata"
        headers:
          accept: application/json

      todo: !folder
        name: Todo
        requests:
          create: !request
            method: POST
            url: "{{odata_host}}/Todos"
            headers:
              accept: application/json
            body: !json { "Description": "Todo string", "Title": "Todo string" }

          get-all: !request
            method: GET
            url: "{{odata_host}}/Todos"
            headers:
              accept: application/json

          get-first: !request
            method: GET
            url: "{{odata_host}}/Todos(1)"
            headers:
              accept: application/json

          get-first-title: !request
            method: GET
            url: "{{odata_host}}/Todos(ID=1)"
            headers:
              accept: application/json

          select-first-title: !request
            method: GET
            url: "{{odata_host}}/Todos(1)?$select=Title"
            headers:
              accept: application/json

          select-all: !request
            method: GET
            url: "{{odata_host}}/Todos(1)?$select=*"
            headers:
              accept: application/json

          expand-first-tasks: !request
            method: GET
            url: "{{odata_host}}/Todos(1)?$expand=Tasks"
            headers:
              accept: application/json

          expand-first-all: !request
            method: GET
            url: "{{odata_host}}/Todos(1)?$expand=*"
            headers:
              accept: application/json

          order-by-id: !request
            method: GET
            url: "{{odata_host}}/Todos/?$orderBy=ID desc"
            headers:
              accept: application/json
